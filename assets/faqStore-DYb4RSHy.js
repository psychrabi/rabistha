import{f as i,p as c}from"./index-CQqMSyWK.js";import{u as s}from"./adminStore-DmmzBCg8.js";const h=i(c((t,o)=>({faqs:[],loading:!1,error:null,fetchFAQs:async()=>{t({loading:!0,error:null});try{const e=await fetch("/api/faqs");if(!e.ok)throw new Error("Failed to fetch FAQs");const r=await e.json();t({faqs:Array.isArray(r)?r:[],loading:!1})}catch(e){t({error:e.message,loading:!1})}},addFAQ:async e=>{const r=s.getState().token;try{if(!(await fetch("/api/admin/faqs",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(e)})).ok)throw new Error("Failed to add FAQ");await o().fetchFAQs()}catch(a){t({error:a.message})}},updateFAQ:async(e,r)=>{const a=s.getState().token;try{if(!(await fetch(`/api/admin/faqs/${e}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify(r)})).ok)throw new Error("Failed to update FAQ");await o().fetchFAQs()}catch(n){t({error:n.message})}},deleteFAQ:async e=>{const r=s.getState().token;try{if(confirm("Are you sure you want to delete this faq?")){if(!(await fetch(`/api/admin/faqs/${e.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${r}`}})).ok)throw new Error("Failed to delete FAQ");await o().fetchFAQs()}}catch(a){t({error:a.message})}}}),{name:"faq-store"}));export{h as u};
