import{r as i,u as y,b as j,a as v,j as e}from"./index-B2jBjsIj.js";import"./index-CDG1Xm7R.js";const f=()=>{const[a,n]=i.useState(""),[r,o]=i.useState({number:"",expiry:"",cvv:"",name:""}),[c,m]=i.useState(""),d=y(),b=j(),{clearCart:x}=v(),s=b.state;if(!s)return d("/rabistha/cart"),null;const h=async t=>{t.preventDefault();const u=Date.now().toString();if(a==="qr"){const l={id:u,paymentMethod:a,...s,paymentStatus:"pending",timestamp:new Date().toISOString()},p=JSON.parse(localStorage.getItem("orders")||"[]");p.push(l),localStorage.setItem("orders",JSON.stringify(p)),d("/rabistha/qr-payment",{state:{...l}});return}const g={id:u,paymentMethod:a,...s,...a==="card"&&{cardDetails:r},...a==="paypal"&&{paypalEmail:c},...a==="cod"&&{paymentStatus:"pending"},timestamp:new Date().toISOString()};try{const l=JSON.parse(localStorage.getItem("orders")||"[]");l.push(g),localStorage.setItem("orders",JSON.stringify(l)),x(),d("/rabistha/order-confirmation")}catch(l){console.error("Error saving order:",l)}};return e.jsxs("div",{className:"max-w-2xl mx-auto p-6",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Payment Options"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsx("button",{onClick:()=>n("card"),className:`p-4 border rounded-lg ${a==="card"?"border-blue-500 bg-blue-50":""}`,children:"Credit/Debit Card"}),e.jsx("button",{onClick:()=>n("paypal"),className:`p-4 border rounded-lg ${a==="paypal"?"border-blue-500 bg-blue-50":""}`,children:"PayPal"}),e.jsx("button",{onClick:()=>n("qr"),className:`p-4 border rounded-lg ${a==="qr"?"border-blue-500 bg-blue-50":""}`,children:"QR Scan"}),e.jsx("button",{onClick:()=>n("cod"),className:`p-4 border rounded-lg ${a==="cod"?"border-blue-500 bg-blue-50":""}`,children:"Cash on Delivery"})]}),e.jsxs("form",{onSubmit:h,className:"space-y-4",children:[a==="card"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("input",{type:"text",placeholder:"Card Number",className:"w-full p-2 border rounded",value:r.number,onChange:t=>o({...r,number:t.target.value})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx("input",{type:"text",placeholder:"MM/YY",className:"p-2 border rounded",value:r.expiry,onChange:t=>o({...r,expiry:t.target.value})}),e.jsx("input",{type:"text",placeholder:"CVV",className:"p-2 border rounded",value:r.cvv,onChange:t=>o({...r,cvv:t.target.value})})]}),e.jsx("input",{type:"text",placeholder:"Cardholder Name",className:"w-full p-2 border rounded",value:r.name,onChange:t=>o({...r,name:t.target.value})})]}),a==="paypal"&&e.jsx("input",{type:"email",placeholder:"PayPal Email",className:"w-full p-2 border rounded",value:c,onChange:t=>m(t.target.value)}),a&&e.jsx("button",{type:"submit",className:"w-full bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-600",children:a==="cod"?"Place Order":"Pay Now"})]}),e.jsxs("div",{className:"mt-8 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Order Summary"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Subtotal"}),e.jsxs("span",{children:["$",s.subtotal.toFixed(2)]})]}),s.discount>0&&e.jsxs("div",{className:"flex justify-between text-green-600",children:[e.jsx("span",{children:"Discount"}),e.jsxs("span",{children:["-$",s.discount.toFixed(2)]})]}),e.jsx("div",{className:"border-t pt-2 mt-2",children:e.jsxs("div",{className:"flex justify-between font-semibold",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{children:["$",s.total.toFixed(2)]})]})})]})]})]})};export{f as default};
