const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ViewQuoteModal-JO_AKkmq.js","assets/index-BwVAqFv_.js","assets/index-DkjCGSG-.css","assets/x-DUKQFZAF.js","assets/CreateQuotationModal-DvxgYLwl.js","assets/types-B6Sgu914.js","assets/adminStore-DheM1SjR.js","assets/index.esm-BEWobnSE.js"])))=>i.map(i=>d[i]);
import{r as a,j as t,_ as y}from"./index-BwVAqFv_.js";import{F as E}from"./Filter-Cppl4H6C.js";import{P as _}from"./Pagination-DEwwGYmB.js";import{u as Q}from"./adminStore-DheM1SjR.js";import{E as T}from"./eye-BJ1Ndeqi.js";const P=a.lazy(()=>y(()=>import("./ViewQuoteModal-JO_AKkmq.js"),__vite__mapDeps([0,1,2,3]))),A=a.lazy(()=>y(()=>import("./CreateQuotationModal-DvxgYLwl.js"),__vite__mapDeps([4,1,2,5,6,7])));function O(){const{quotes:n,fetchQuotes:d}=Q(),[r,u]=a.useState(""),[o,f]=a.useState("all"),[c,j]=a.useState("all"),[i,N]=a.useState(1),[x]=a.useState(8),[m,w]=a.useState([]),b=(n==null?void 0:n.filter(e=>{var g,p;if(r===""&&o==="all"&&c==="all")return!0;const l=r===""||((g=e.user)==null?void 0:g.name.toLowerCase().includes(r.toLowerCase()))||((p=e.user)==null?void 0:p.email.toLowerCase().includes(r.toLowerCase())),S=o==="all"||e.type===o,C=c==="all"||e.status===c;return l&&S&&C}))||[],h=i*x,k=h-x,s=b.slice(k,h),v=e=>{w(e);const l=document.getElementById("quotationModal");l&&l.showModal()};return a.useEffect(()=>{d()},[d]),t.jsxs("section",{className:"w-full p-6 overflow-y-auto",children:[t.jsx("div",{className:"mb-4",children:t.jsxs("div",{className:"sm:flex sm:items-center sm:justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-gray-100 mb-2",children:"Quotes & Invoices"}),t.jsx("p",{className:"text-slate-600 dark:text-gray-300",children:"Create and manage quotes and invoices"})]}),t.jsx("button",{className:"btn btn-primary",onClick:()=>document.getElementById("createQuotationModal").showModal(),children:"Create New Quote"}),t.jsx(A,{})]})}),t.jsx(E,{setFilterStatus:j,setSearchTerm:u,setFilterType:f,searchTerm:r,filterType:o,filterStatus:c}),t.jsx("div",{className:"overflow-hidden border border-gray-200 dark:border-gray-700 md:rounded-lg mb-4",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[t.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:t.jsxs("tr",{children:[t.jsx("th",{scope:"col",className:"px-4 py-3.5 text-sm font-normal text-left rtl:text-right text-gray-500 dark:text-gray-400",children:"Quote #"}),t.jsx("th",{scope:"col",className:"px-4 py-3.5 text-sm font-normal text-left rtl:text-right text-gray-500 dark:text-gray-400",children:"Customer"}),t.jsx("th",{scope:"col",className:"px-4 py-3.5 text-sm font-normal text-left rtl:text-right text-gray-500 dark:text-gray-400",children:"Amount"}),t.jsx("th",{scope:"col",className:"px-4 py-3.5 text-sm font-normal text-left rtl:text-right text-gray-500 dark:text-gray-400",children:"Status"}),t.jsx("th",{scope:"col",className:"px-4 py-3.5 text-sm font-normal text-left rtl:text-right text-gray-500 dark:text-gray-400",children:"Valid Until"}),t.jsx("th",{scope:"col",className:"px-4 py-3.5 text-sm font-normal text-left rtl:text-right text-gray-500 dark:text-gray-400",children:"Created"}),t.jsx("th",{scope:"col",className:"px-4 py-3.5 text-sm font-normal text-left rtl:text-right text-gray-500 dark:text-gray-400",children:"Actions"})]})}),t.jsx("tbody",{children:(s==null?void 0:s.length)>0?s==null?void 0:s.map((e,l)=>t.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800",children:[t.jsxs("td",{className:"px-4 py-4 text-sm text-gray-500 dark:text-gray-300 whitespace-nowrap",children:["QT-",e.id]}),t.jsx("td",{className:"px-4 py-4 text-sm text-gray-500 dark:text-gray-300 whitespace-nowrap",children:e.user.name}),t.jsxs("td",{className:"px-4 py-4 text-sm text-gray-500 dark:text-gray-300 whitespace-nowrap",children:["$",e.total]}),t.jsx("td",{className:"px-4 py-4 text-sm text-gray-500 dark:text-gray-300 whitespace-nowrap",children:t.jsx("div",{className:`badge ${e.status==="DRAFT"?"badge-secondary":e.status==="SENT"?"badge-info":e.status==="ACCEPTED"?"badge-success":"badge-error"}`,children:e.status})}),t.jsx("td",{className:"px-4 py-4 text-sm text-gray-500 dark:text-gray-300 whitespace-nowrap",children:new Date(e.validUntil).toLocaleDateString()}),t.jsx("td",{className:"px-4 py-4 text-sm text-gray-500 dark:text-gray-300 whitespace-nowrap",children:new Date(e.createdAt).toLocaleDateString()}),t.jsx("td",{className:"px-4 text-sm text-gray-500 dark:text-gray-300 whitespace-nowrap",children:t.jsx("button",{className:"text-blue-600 hover:underline",onClick:()=>v(e),children:t.jsx(T,{className:"inline"})})})]},l)):t.jsx("tr",{children:t.jsx("td",{colSpan:6,className:"text-center py-8 text-slate-500",children:r||o!=="all"||c!=="all"?"No quotes match your filters.":"No quotes available. Add some quotes to get started."})})})]})}),t.jsx(_,{total:s.length,perPage:x,currentPage:i,onPageChange:N}),m&&t.jsx(P,{quote:m})]})}export{O as default};
