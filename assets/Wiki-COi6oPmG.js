const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AddWikiModal-CNQYYphC.js","assets/index-CI7UZADU.js","assets/index-BHLY6Z1r.css","assets/jodit-react-CPqeQI_E.js","assets/index.esm-DFqDlOEg.js","assets/adminStore-C86RxTd8.js"])))=>i.map(i=>d[i]);
import{r as s,j as e,_ as W}from"./index-CI7UZADU.js";import{F as M}from"./Filter-L1oXbWTm.js";import{u as A}from"./adminStore-C86RxTd8.js";import{P as E}from"./plus-w-N-air8.js";const C=s.lazy(()=>W(()=>import("./AddWikiModal-CNQYYphC.js"),__vite__mapDeps([0,1,2,3,4,5])));function I(){const{wikis:i,fetchWikis:m,deleteWiki:u}=A(),[h,c]=s.useState([]),[a,p]=s.useState(""),[r,y]=s.useState("all"),[l,g]=s.useState("all"),[f,_]=s.useState(1),[n]=s.useState(8),[L,o]=s.useState(!1),j=(Array.isArray(i)?i:[]).filter(t=>{if(a===""&&r==="all"&&l==="all")return!0;const k=a===""||t.title.toLowerCase().includes(a.toLowerCase()),v=r==="all"||t.type===r,S=l==="all"||t.status===l;return k&&v&&S})||[],d=f*n,w=d-n,x=j.slice(w,d),N=()=>{c(null),o(!0),document.getElementById("addWikiModal").showModal()},b=t=>{c(t),o(!0),document.getElementById("addWikiModal").showModal()};return s.useEffect(()=>{m()},[]),e.jsxs("section",{className:"w-full p-6 overflow-y-auto",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"sm:flex sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-gray-100 mb-2",children:"Wiki Management"}),e.jsx("p",{className:"text-slate-600 dark:text-gray-300",children:"Manage ASTER Wikis from here"})]}),e.jsxs("button",{type:"button",onClick:()=>N(),className:"flex items-center justify-center w-1/2 px-5 py-2 text-sm tracking-wide text-white transition-colors duration-200 bg-blue-500 rounded-lg sm:w-auto gap-x-2 hover:bg-blue-600 dark:hover:bg-blue-500 dark:bg-blue-600",children:[e.jsx(E,{className:"w-5 h-5"}),e.jsx("span",{children:"Add a new Wiki"})]}),e.jsx(C,{currentWiki:h})]})}),e.jsx(M,{setFilterStatus:g,setSearchTerm:p,setFilterType:y,searchTerm:a,filterType:r,filterStatus:l}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Updated"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:x.length>0?x.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:t.title})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:t.category.name})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-500",children:new Date(t.updatedAt).toLocaleDateString()})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[e.jsx("button",{onClick:()=>b(t),className:"text-yellow-600 hover:text-yellow-900 mx-2",children:"Edit"}),e.jsx("button",{onClick:()=>window.open(`/wiki/${t.slug}`,"_blank"),className:"text-blue-600 hover:text-blue-900 mx-2",children:"View"}),e.jsx("button",{onClick:()=>u(t),className:"text-red-600 hover:text-red-900 mx-2",children:"Delete"})]})]},t.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"text-center py-8 text-slate-500",children:a||r!=="all"||l!=="all"?"No wikis match your filters.":"No wikis available. Add some wikis to get started."})})})]})})]})}export{I as default};
