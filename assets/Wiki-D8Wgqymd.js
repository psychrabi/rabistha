const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AddWikiModal-DGbKfkpP.js","assets/index-BwVAqFv_.js","assets/index-DkjCGSG-.css","assets/jodit-react-DigbBaE-.js","assets/index.esm-BEWobnSE.js","assets/adminStore-DheM1SjR.js"])))=>i.map(i=>d[i]);
import{r as s,j as e,_ as M}from"./index-BwVAqFv_.js";import{F as E}from"./Filter-Cppl4H6C.js";import{u as A}from"./adminStore-DheM1SjR.js";import{P as C}from"./plus-C34H7cT1.js";const _=s.lazy(()=>M(()=>import("./AddWikiModal-DGbKfkpP.js"),__vite__mapDeps([0,1,2,3,4,5])));function I(){const{wikis:i,fetchWikis:u,deleteWiki:h}=A(),[c,o]=s.useState([]),[a,p]=s.useState(""),[l,g]=s.useState("all"),[r,y]=s.useState("all"),[f,L]=s.useState(1),[n]=s.useState(8),[j,d]=s.useState(!1),w=(i==null?void 0:i.filter(t=>{if(a===""&&l==="all"&&r==="all")return!0;const v=a===""||t.title.toLowerCase().includes(a.toLowerCase()),S=l==="all"||t.type===l,W=r==="all"||t.status===r;return v&&S&&W}))||[],x=f*n,N=x-n,m=w.slice(N,x),b=()=>{o(null),d(!0),document.getElementById("addWikiModal").showModal()},k=t=>{o(t),d(!0),document.getElementById("addWikiModal").showModal()};return s.useEffect(()=>{u(),console.log(c)},[]),e.jsxs("section",{className:"w-full p-6 overflow-y-auto",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"sm:flex sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-gray-100 mb-2",children:"Wiki Management"}),e.jsx("p",{className:"text-slate-600 dark:text-gray-300",children:"Manage ASTER Wikis from here"})]}),e.jsxs("button",{type:"button",onClick:()=>b(),className:"flex items-center justify-center w-1/2 px-5 py-2 text-sm tracking-wide text-white transition-colors duration-200 bg-blue-500 rounded-lg sm:w-auto gap-x-2 hover:bg-blue-600 dark:hover:bg-blue-500 dark:bg-blue-600",children:[e.jsx(C,{className:"w-5 h-5"}),e.jsx("span",{children:"Add a new Wiki"})]}),j&&e.jsx(_,{currentWiki:c})]})}),e.jsx(E,{setFilterStatus:y,setSearchTerm:p,setFilterType:g,searchTerm:a,filterType:l,filterStatus:r}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Updated"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:m.length>0?m.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:t.title})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:t.category})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-500",children:new Date(t.updatedAt).toLocaleDateString()})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[e.jsx("button",{onClick:()=>k(t),className:"text-yellow-600 hover:text-yellow-900 mx-2",children:"Edit"}),e.jsx("buttonfilterStatus",{onClick:()=>window.open(`/wiki/${t.slug}`,"_blank"),className:"text-blue-600 hover:text-blue-900 mx-2",children:"View"}),e.jsx("button",{onClick:()=>h(t),className:"text-red-600 hover:text-red-900 mx-2",children:"Delete"})]})]},t.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"text-center py-8 text-slate-500",children:a||l!=="all"||r!=="all"?"No wikis match your filters.":"No wikis available. Add some wikis to get started."})})})]})})]})}export{I as default};
