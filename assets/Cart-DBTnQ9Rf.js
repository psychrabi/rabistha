import{c as p,r as u,j as e,u as N,a as k,S as v}from"./index-BUmv5fIp.js";import{T as h}from"./tag-DolA0csz.js";import{P as w}from"./plus-C3yxcp2S.js";/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C=[["path",{d:"M5 12h14",key:"1ays0h"}]],D=p("minus",C);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],F=p("trash-2",S),q=({onApply:d,isApplied:s})=>{const[o,a]=u.useState(""),[n,r]=u.useState(!0),c=l=>{if(l.preventDefault(),o.length<4){r(!1);return}r(!0),d(o)},i=()=>{a(""),setIsApplied(!1),onApplyDiscount(null)};return e.jsx("div",{className:"mt-4 p-4 bg-gray-800 rounded-lg",children:s?e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(h,{className:"w-5 h-5 text-green-500"}),e.jsx("span",{className:"text-sm font-medium",children:o}),e.jsx("span",{className:"text-xs text-green-500",children:"Applied"})]}),e.jsx("button",{type:"button",onClick:i,className:"text-sm text-red-500 hover:text-red-600",children:"Remove"})]}):e.jsxs("form",{onSubmit:c,className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(h,{className:"w-5 h-5 text-gray-500"}),e.jsx("input",{type:"text",value:o,onChange:l=>a(l.target.value),placeholder:"Enter coupon code",className:`flex-1 px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${n?"":"border-red-500"}`}),e.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Apply"})]}),!n&&e.jsx("p",{className:"text-sm text-red-500",children:"Please enter a valid coupon code"})]})})},A=({onDetailsSubmit:d})=>{const[s,o]=u.useState({fullName:"",email:"",phone:"",address:"",city:"",state:"",zipCode:"",country:""}),a=r=>{const{name:c,value:i}=r.target;o(l=>({...l,[c]:i}))},n=r=>{r.preventDefault(),d(s)};return e.jsxs("form",{onSubmit:n,className:"space-y-4",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Shipping Details"}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium mb-1",children:"Full Name"}),e.jsx("input",{type:"text",id:"fullName",name:"fullName",value:s.fullName,onChange:a,className:"block w-full px-4 py-2 mt-2 text-gray-700 placeholder-gray-500 bg-white border rounded-lg dark:bg-gray-800 dark:border-gray-600 dark:placeholder-gray-400 focus:border-blue-400 dark:focus:border-blue-300 focus:ring-opacity-40 focus:outline-none focus:ring focus:ring-blue-300",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium mb-1",children:"Email"}),e.jsx("input",{type:"email",id:"email",name:"email",value:s.email,onChange:a,className:"block w-full px-4 py-2 mt-2 text-gray-700 placeholder-gray-500 bg-white border rounded-lg dark:bg-gray-800 dark:border-gray-600 dark:placeholder-gray-400 focus:border-blue-400 dark:focus:border-blue-300 focus:ring-opacity-40 focus:outline-none focus:ring focus:ring-blue-300",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium mb-1",children:"Phone"}),e.jsx("input",{type:"tel",id:"phone",name:"phone",value:s.phone,onChange:a,className:"block w-full px-4 py-2 mt-2 text-gray-700 placeholder-gray-500 bg-white border rounded-lg dark:bg-gray-800 dark:border-gray-600 dark:placeholder-gray-400 focus:border-blue-400 dark:focus:border-blue-300 focus:ring-opacity-40 focus:outline-none focus:ring focus:ring-blue-300",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"address",className:"block text-sm font-medium mb-1",children:"Address"}),e.jsx("input",{type:"text",id:"address",name:"address",value:s.address,onChange:a,className:"block w-full px-4 py-2 mt-2 text-gray-700 placeholder-gray-500 bg-white border rounded-lg dark:bg-gray-800 dark:border-gray-600 dark:placeholder-gray-400 focus:border-blue-400 dark:focus:border-blue-300 focus:ring-opacity-40 focus:outline-none focus:ring focus:ring-blue-300",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"city",className:"block text-sm font-medium mb-1",children:"City"}),e.jsx("input",{type:"text",id:"city",name:"city",value:s.city,onChange:a,className:"block w-full px-4 py-2 mt-2 text-gray-700 placeholder-gray-500 bg-white border rounded-lg dark:bg-gray-800 dark:border-gray-600 dark:placeholder-gray-400 focus:border-blue-400 dark:focus:border-blue-300 focus:ring-opacity-40 focus:outline-none focus:ring focus:ring-blue-300",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"state",className:"block text-sm font-medium mb-1",children:"State"}),e.jsx("input",{type:"text",id:"state",name:"state",value:s.state,onChange:a,className:"block w-full px-4 py-2 mt-2 text-gray-700 placeholder-gray-500 bg-white border rounded-lg dark:bg-gray-800 dark:border-gray-600 dark:placeholder-gray-400 focus:border-blue-400 dark:focus:border-blue-300 focus:ring-opacity-40 focus:outline-none focus:ring focus:ring-blue-300",required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"zipCode",className:"block text-sm font-medium mb-1",children:"ZIP Code"}),e.jsx("input",{type:"text",id:"zipCode",name:"zipCode",value:s.zipCode,onChange:a,className:"block w-full px-4 py-2 mt-2 text-gray-700 placeholder-gray-500 bg-white border rounded-lg dark:bg-gray-800 dark:border-gray-600 dark:placeholder-gray-400 focus:border-blue-400 dark:focus:border-blue-300 focus:ring-opacity-40 focus:outline-none focus:ring focus:ring-blue-300",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"country",className:"block text-sm font-medium mb-1",children:"Country"}),e.jsx("input",{type:"text",id:"country",name:"country",value:s.country,onChange:a,className:"block w-full px-4 py-2 mt-2 text-gray-700 placeholder-gray-500 bg-white border rounded-lg dark:bg-gray-800 dark:border-gray-600 dark:placeholder-gray-400 focus:border-blue-400 dark:focus:border-blue-300 focus:ring-opacity-40 focus:outline-none focus:ring focus:ring-blue-300",required:!0})]})]}),e.jsx("button",{type:"submit",className:"w-full bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-600",children:"Save Shipping Details"})]})};function I(){const d=N(),{items:s,removeItem:o,updateQuantity:a,getSubtotal:n,getDiscountAmount:r,setDiscount:c,clearDiscount:i,discount:l}=k(),[x,g]=u.useState(!1),[b,f]=u.useState(null),m=()=>{const t=n(),j=l?r():0;return t-j},y=()=>{if(!b){alert("Please fill in shipping details first");return}const t={items:s,subtotal:n(),discount:l?r():0,total:m(),shippingDetails:b};d("/rabistha/checkout",{state:t})};return s.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center p-8 bg-base-200 rounded-lg",children:[e.jsx(v,{className:"w-12 h-12 text-gray-400"}),e.jsx("p",{className:"mt-4 text-gray-500",children:"Your cart is empty"})]}):e.jsx("div",{className:"bg-white dark:bg-gray-900",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("div",{className:"my-6 md:flex md:items-center md:justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-800 capitalize lg:text-3xl dark:text-white",children:"Order Details"}),e.jsxs("div",{className:"flex mx-auto mt-6",children:[e.jsx("span",{className:"inline-block w-40 h-1 bg-blue-500 rounded-full"}),e.jsx("span",{className:"inline-block w-3 h-1 mx-1 bg-blue-500 rounded-full"}),e.jsx("span",{className:"inline-block w-1 h-1 bg-blue-500 rounded-full"})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Cart"}),e.jsxs("span",{className:"text-lg font-medium",children:["$",m().toFixed(2)]})]}),e.jsx("div",{className:"space-y-4",children:s.map(t=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-base-200 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:t.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:["$",t.price.toFixed(2)]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{type:"button",onClick:()=>a(t.id,t.quantity-1),className:"p-1 hover:bg-base-300 rounded",children:e.jsx(D,{className:"w-4 h-4"})}),e.jsx("span",{children:t.quantity}),e.jsx("button",{type:"button",onClick:()=>a(t.id,t.quantity+1),className:"p-1 hover:bg-base-300 rounded",children:e.jsx(w,{className:"w-4 h-4"})})]}),e.jsx("button",{type:"button",onClick:()=>o(t.id),className:"p-2 text-red-500 hover:bg-red-100 rounded",children:e.jsx(F,{className:"w-4 h-4"})})]})]},t.id))}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"applyDiscount",checked:x,onChange:t=>g(t.target.checked),className:"checkbox checkbox-primary"}),e.jsx("label",{htmlFor:"applyDiscount",className:"text-sm font-medium",children:"I have a discount coupon"})]}),x&&e.jsx(q,{onApply:()=>c(!0),onRemove:()=>{c(!1),i()},isApplied:l})]}),e.jsxs("div",{className:"mt-6 p-4 bg-base-200 rounded-lg space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Subtotal"}),e.jsxs("span",{children:["$",n().toFixed(2)]})]}),l&&e.jsxs("div",{className:"flex justify-between text-green-600",children:[e.jsx("span",{children:"Discount (20%)"}),e.jsxs("span",{children:["-$",r().toFixed(2)]})]}),e.jsx("div",{className:"border-t pt-2 mt-2",children:e.jsxs("div",{className:"flex justify-between font-semibold",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{children:["$",m().toFixed(2)]})]})})]})]}),e.jsx(A,{onDetailsSubmit:f})]}),e.jsx("div",{className:"mt-8 flex justify-end",children:e.jsx("button",{type:"button",className:"btn btn-primary",onClick:y,children:"Proceed to Checkout"})})]})})}export{I as default};
