const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AddWikiModal-BuD5u-bh.js","assets/index-BSV5OHTS.js","assets/index-DR89XXgL.css","assets/jodit-react-DnOCKFwj.js","assets/index.esm-ezgKkqFq.js","assets/adminStore-GvjlJW47.js"])))=>i.map(i=>d[i]);
import{r as s,j as e,_ as W}from"./index-BSV5OHTS.js";import{F as M}from"./Filter-ivuh1shx.js";import{u as A}from"./adminStore-GvjlJW47.js";import{P as E}from"./plus-BN2yszXs.js";import{P as T}from"./pencil-Xdo1gyVX.js";import{E as C}from"./eye-C-3nMbhQ.js";import{T as P}from"./trash-2-DT9b9bKC.js";const _=s.lazy(()=>W(()=>import("./AddWikiModal-BuD5u-bh.js"),__vite__mapDeps([0,1,2,3,4,5])));function V(){const{wikis:o,fetchWikis:m,deleteWiki:h}=A(),[g,i]=s.useState([]),[a,y]=s.useState(""),[r,u]=s.useState("all"),[l,p]=s.useState("all"),[f,L]=s.useState(1),[d]=s.useState(8),[F,n]=s.useState(!1),j=(Array.isArray(o)?o:[]).filter(t=>{if(a===""&&r==="all"&&l==="all")return!0;const N=a===""||t.title.toLowerCase().includes(a.toLowerCase()),v=r==="all"||t.type===r,S=l==="all"||t.status===l;return N&&v&&S})||[],c=f*d,b=c-d,x=j.slice(b,c),k=()=>{i(null),n(!0),document.getElementById("addWikiModal").showModal()},w=t=>{i(t),n(!0),document.getElementById("addWikiModal").showModal()};return s.useEffect(()=>{m()},[]),e.jsxs("section",{className:"w-full p-6 overflow-y-auto h-full",children:[e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"sm:flex sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-gray-100 mb-2",children:"Wiki Management"}),e.jsx("p",{className:"text-slate-600 dark:text-gray-300",children:"Manage ASTER Wikis from here"})]}),e.jsxs("button",{type:"button",onClick:()=>k(),className:"flex items-center justify-center w-1/2 px-5 py-2 text-sm tracking-wide text-white transition-colors duration-200 bg-blue-500 rounded-lg sm:w-auto gap-x-2 hover:bg-blue-600 dark:hover:bg-blue-500 dark:bg-blue-600",children:[e.jsx(E,{className:"w-5 h-5"}),e.jsx("span",{children:"Add a new Wiki"})]}),e.jsx(_,{currentWiki:g})]})}),e.jsx(M,{setFilterStatus:p,setSearchTerm:y,setFilterType:u,searchTerm:a,filterType:r,filterStatus:l}),e.jsx("div",{className:"overflow-hidden border border-gray-200 dark:border-gray-700 md:rounded-lg mb-4",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-4 py-3.5 text-sm font-normal text-left rtl:text-right text-gray-500 dark:text-gray-400",children:"Title"}),e.jsx("th",{scope:"col",className:"px-4 py-3.5 text-sm font-normal text-left rtl:text-right text-gray-500 dark:text-gray-400",children:"Category"}),e.jsx("th",{scope:"col",className:"px-4 py-3.5 text-sm font-normal text-left rtl:text-right text-gray-500 dark:text-gray-400",children:"Last Updated"}),e.jsx("th",{scope:"col",className:"px-4 py-3.5 text-sm font-normal text-left rtl:text-right text-gray-500 dark:text-gray-400",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200 dark:divide-gray-700 dark:bg-gray-900",children:x.length>0?x.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800",children:[e.jsx("td",{className:"px-4 py-2 text-sm text-gray-500 dark:text-gray-300 whitespace-nowrap",children:t.title}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-500 dark:text-gray-300 whitespace-nowrap",children:t.category.name}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-500 dark:text-gray-300 whitespace-nowrap",children:new Date(t.updatedAt).toLocaleDateString()}),e.jsxs("td",{className:"px-4 py-2 text-sm whitespace-nowrap",children:[e.jsx("button",{onClick:()=>w(t),className:"text-yellow-600 hover:text-yellow-900 m-2 ",children:e.jsx(T,{})}),e.jsx("button",{onClick:()=>window.open(`/wiki/${t.slug}`,"_blank"),className:"text-blue-600 hover:text-blue-900 m-2",children:e.jsx(C,{})}),e.jsx("button",{onClick:()=>h(t),className:"text-red-600 hover:text-red-900 m-2",children:e.jsx(P,{})})]})]},t.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"text-center py-8 text-slate-500",children:a||r!=="all"||l!=="all"?"No wikis match your filters.":"No wikis available. Add some wikis to get started."})})})]})})]})}export{V as default};
