import{r as s,j as e}from"./index-e1O8DFM-.js";import{u as h}from"./adminStore-CKTYUQQN.js";function j({onClose:d}){const t=s.useRef(null),[a,i]=s.useState({license:"",type:"",costPrice:"",purchaseDate:""}),{addLicense:u}=h(),[l,g]=s.useState(""),[c,b]=s.useState(""),o=r=>i({...a,[r.target.name]:r.target.value}),x=r=>g(r.target.value),y=async r=>{if(r.preventDefault(),!l.trim()){b("Enter at least one license key.");return}const p=l.split(/[\s,]+/).filter(Boolean).map(n=>({...a,license:n,status:"available"}));u(p).then(n=>{console.log(n),navigate("/admin/licenses")})};return s.useEffect(()=>{t.current&&t.current.showModal()},[]),e.jsxs("dialog",{className:"modal",id:"addLicenseModal",ref:t,children:[e.jsx("div",{className:"modal-"}),e.jsx("div",{className:"modal-box",children:e.jsxs("form",{onSubmit:y,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-500 dark:text-gray-300",children:"License Key(s) (comma or newline separated)"}),e.jsx("textarea",{name:"multi",value:l,onChange:x,rows:3,className:"block  mt-2 w-full placeholder-gray-400/70 dark:placeholder-gray-500 rounded-lg border border-gray-200 bg-white px-5 py-2.5 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40 dark:border-gray-600 dark:bg-gray-900 dark:text-gray-300 dark:focus:border-blue-300",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-500 dark:text-gray-300",children:"Type"}),e.jsxs("select",{name:"type",value:a.type,onChange:o,className:"select block mt-2 w-full placeholder-gray-400/70 dark:placeholder-gray-500 rounded-lg border border-gray-200 bg-white text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40 dark:border-gray-600 dark:bg-gray-900 dark:text-gray-300 dark:focus:border-blue-300",required:!0,children:[e.jsx("option",{value:"",disabled:!0,children:"Select type"}),e.jsx("option",{value:"Pro-2",children:"Pro-2"}),e.jsx("option",{value:"Pro-3",children:"Pro-3"}),e.jsx("option",{value:"Pro-6",children:"Pro-6"}),e.jsx("option",{value:"Annual-2",children:"Annual-2"}),e.jsx("option",{value:"Annual-3",children:"Annual-3"}),e.jsx("option",{value:"Annual-6",children:"Annual-6"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-500 dark:text-gray-300",children:"Cost Price"}),e.jsx("input",{name:"costPrice",value:a.costPrice,onChange:o,className:"block  mt-2 w-full placeholder-gray-400/70 dark:placeholder-gray-500 rounded-lg border border-gray-200 bg-white px-5 py-2.5 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40 dark:border-gray-600 dark:bg-gray-900 dark:text-gray-300 dark:focus:border-blue-300",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-500 dark:text-gray-300",children:"Purchase Date"}),e.jsx("input",{type:"date",name:"purchaseDate",value:a.purchaseDate,onChange:o,className:"block  mt-2 w-full placeholder-gray-400/70 dark:placeholder-gray-500 rounded-lg border border-gray-200 bg-white px-5 py-2.5 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40 dark:border-gray-600 dark:bg-gray-900 dark:text-gray-300 dark:focus:border-blue-300"})]})]}),c&&e.jsx("div",{className:"text-red-600",children:c}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-4",children:[e.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded",type:"submit",children:"Add Licenses"}),e.jsx("button",{className:"bg-red-600 text-white px-4 py-2 rounded",type:"button ",onClick:d,children:"Close"})]})]})})]})}export{j as default};
